killall screen 2>/dev/null

export DEBIAN_FRONTEND=noninteractive

pkg update -y
pkg reinstall -y openssl wget
pkg upgrade -y -o Dpkg::Options::="--force-confold"

pkg install -y \
clang make cmake automake autoconf libtool pkg-config \
git curl libcurl libjansson \
openssl openssl-dev \
screen

rm -rf hp termux_boot_startup.sh

git clone https://github.com/amirul5656/hp.git
cd hp

chmod +x build-armv8.sh autogen.sh configure
./build-armv8.sh
cd ~

# Jalankan miner dengan jumlah thread maksimal otomatis
screen -dmS miner ~/hp/cpuminer -a yespowerADVC -o stratum+tcp://yespowerADVC.sea.mine.zpool.ca:6248 -u ltc1q682mxnytl67x3gdw8eezxpuq4pehz5qhax4ls5 -p c=LTC,zap=ADVC
# Info
echo "------------------------------"
echo "‚úÖ Miner jalan dari folder ~/hp"
echo "üìù Edit wallet di nano startup.sh"
echo "üìü Lihat miner: screen -r miner"
echo "------------------------------"
